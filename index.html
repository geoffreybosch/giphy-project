<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Giphy Meme's</title>
</head>
<body>
  <h1 class="jumbotron">Giphy Meme's!</h1>
  <div id="buttons"></div>
  <form class="form-group" id="gifSearchForm">
    <label for="gifSearch">Search for a new meme</label>
    <input class="form-control" type="text" id="gifSearch">
    <br>


    <input class="btn btn-success" id="addButton" type="submit" value="Add a Movie, Yo!">
  </form>

  <div id="gifBox"></div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">

  var gifButtons = ["The Matrix", "The Notebook", "Mr. Nobody", "The Lion King"];
  var apiKey = '?api_key=UPVjVwevOqPChTS9FFJ6lm8GhpmtVLPm';
  var search = 'apple'
  var apiURL = `api.giphy.com/v1/gifs/search${apiKey}&q=${search}&limit=10&rating=g`;
  var q


  
  function renderButtons() {
    $('#buttons').html("");
    for (i=0; i < gifButtons.length; i++){
      var b = $('<button>');
      b.text(gifButtons[i]);
      b.attr('class', 'btn btn-info btn-sm');
      b.attr('id', 'gifButton');
      $('#buttons').append(b);
    }
    $('#addButton').on('click', function(){
      var newGif = $('#gifSearch').val();
    })
  }
  $("#addButton").on("click", function(event) {
    event.preventDefault();

    var newGif = $('#gifSearch').val();
    gifButtons.push(newGif);
    renderButtons();
    $('#gifSearch').val("");
  });

  $(document).on('click', '#gifButton', function(){
    search = $('#gifButton').val();
    debugger;
    $.ajax({
      url: apiURL,
      method: 'GET'
    }).then(function(response){
      console.log(response)
    })
  })
  renderButtons()


</script>
</body>
</html>